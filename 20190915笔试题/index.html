<!DOCTYPE html>
<html lang="cn">

<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">

    
      <link rel="icon" href="/favicon.ico">
    

    <title>
        
          20190915笔试题 - 小白二号
        
    </title>

    <!-- Spectre.css framework (v0.5.8) -->
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-exp.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-icons.min.css">

    <!-- Noto Sans TC -->
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+TC" rel="stylesheet">
    <!-- Noto Sans SC -->
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+SC" rel="stylesheet">
    <!-- Noto Sans -->
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans" rel="stylesheet">

    <!-- theme css & js -->
    <link rel="stylesheet" href="/css/spectre_custom.css">
    <link rel="stylesheet" href="/css/book.css">
    <script src="/js/book.js"></script>

    <!-- tocbot -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">

    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    
    <!-- katex -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">

    
</head>

<body>

<div class="container">
  <div class="book-container">
    <div class="columns">
      <div class="column col-2 hide-lg">
        <div class="book-sidebar-wraper">
  <img src="http://47.244.46.64:8001/1.png" />
  <div class="book-sidebar">
    <h4 class="site-meta">
      <a href="/">小白二号</a>
    </h4>
    <div class="sidebar-content">
      <ul>
<li><a href="/">首页</a></li>
<li>算法
<ul>
<li><a href="/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF">动态规划解题思路</a></li>
<li><a href="/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92">动态规划</a></li>
<li><a href="/%E8%AE%B0%E5%BF%86%E5%8C%96%E6%90%9C%E7%B4%A2">记忆化搜索</a></li>
<li><a href="/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F">拓扑排序</a></li>
<li><a href="/%E7%90%86%E8%A7%A3%E9%80%92%E5%BD%92">理解递归</a></li>
<li><a href="/%E7%90%86%E8%A7%A3%E5%87%BD%E6%95%B0">理解函数</a></li>
</ul>
</li>
<li>大数据
<ul>
<li><a href="/hostname%E7%9A%84%E9%97%AE%E9%A2%98">hostname的问题</a></li>
<li><a href="/hadoop%E6%90%AD%E5%BB%BA%E5%85%A5%E9%97%A8%E2%80%94%E2%80%94ssh%E9%97%AE%E9%A2%98">hadoop搭建入门——ssh问题</a></li>
<li><a href="/%E7%94%A8mapreduce%E5%AE%9E%E7%8E%B0join">用mapreduce实现join</a></li>
<li><a href="/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BB%BB%E5%8A%A1%E5%88%86%E5%8F%91%E5%BC%95%E5%8F%91%E7%9A%84%E9%97%AE%E9%A2%98">分布式任务分发引发的问题</a></li>
<li><a href="/%E5%A4%9A%E7%BB%B4%E6%9F%A5%E8%AF%A2%E7%9A%84%E4%B8%80%E7%A7%8D%E5%AE%9E%E7%8E%B0cube%E5%8C%96">多维查询的一种实现cube化</a></li>
</ul>
</li>
<li>笔试题
<ul>
<li><a href="/20190916%E7%AC%94%E8%AF%95%E9%A2%98">20190916笔试题</a></li>
<li><a href="/20190915%E7%AC%94%E8%AF%95%E9%A2%98">20190915笔试题</a></li>
</ul>
</li>
<li>草稿</li>
</ul>

    </div>
  </div>
</div>

<script src="/js/book-sidebar.js"></script>
      </div>

      <div class="column col-10 col-lg-12">
        <div class="book-content">
          <div class="book-navbar">
  <header class="navbar">
  <section class="navbar-section">
    <img class="navbar-icon" src="/favicon.ico">
  </section>
  <section class="navbar-center">
    小白二号
  </section>
  <section class="navbar-section">
    <label class="accordion-header c-hand" for="accordion-sidebar">
      <i class="icon icon-menu"></i>
    </label>
  </section>
</header>

<div class="accordion">
  <input type="checkbox" id="accordion-sidebar" name="accordion-checkbox" hidden>
  <div class="accordion-body">
    <ul>
<li><a href="/">首页</a></li>
<li>算法
<ul>
<li><a href="/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF">动态规划解题思路</a></li>
<li><a href="/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92">动态规划</a></li>
<li><a href="/%E8%AE%B0%E5%BF%86%E5%8C%96%E6%90%9C%E7%B4%A2">记忆化搜索</a></li>
<li><a href="/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F">拓扑排序</a></li>
<li><a href="/%E7%90%86%E8%A7%A3%E9%80%92%E5%BD%92">理解递归</a></li>
<li><a href="/%E7%90%86%E8%A7%A3%E5%87%BD%E6%95%B0">理解函数</a></li>
</ul>
</li>
<li>大数据
<ul>
<li><a href="/hostname%E7%9A%84%E9%97%AE%E9%A2%98">hostname的问题</a></li>
<li><a href="/hadoop%E6%90%AD%E5%BB%BA%E5%85%A5%E9%97%A8%E2%80%94%E2%80%94ssh%E9%97%AE%E9%A2%98">hadoop搭建入门——ssh问题</a></li>
<li><a href="/%E7%94%A8mapreduce%E5%AE%9E%E7%8E%B0join">用mapreduce实现join</a></li>
<li><a href="/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BB%BB%E5%8A%A1%E5%88%86%E5%8F%91%E5%BC%95%E5%8F%91%E7%9A%84%E9%97%AE%E9%A2%98">分布式任务分发引发的问题</a></li>
<li><a href="/%E5%A4%9A%E7%BB%B4%E6%9F%A5%E8%AF%A2%E7%9A%84%E4%B8%80%E7%A7%8D%E5%AE%9E%E7%8E%B0cube%E5%8C%96">多维查询的一种实现cube化</a></li>
</ul>
</li>
<li>笔试题
<ul>
<li><a href="/20190916%E7%AC%94%E8%AF%95%E9%A2%98">20190916笔试题</a></li>
<li><a href="/20190915%E7%AC%94%E8%AF%95%E9%A2%98">20190915笔试题</a></li>
</ul>
</li>
<li>草稿</li>
</ul>

  </div>
</div>
</div>

<div class="content-title">
  <div class="title">
    20190915笔试题
  </div>
</div>

<div class="book-post">
  <h4 id="钱老板赶工">钱老板赶工</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">钱老板去国外度了个假，刚回到公司就收到了n封催促工作完成的邮件。</span><br><span class="line">每项工作都有完成截止日期的deadline，钱老板做每项工作都会花去cost天，而且不能中断。</span><br><span class="line">请你帮钱老板安排一下完成工作的顺序，以减少总的工作推迟时间</span><br><span class="line"></span><br><span class="line">输入：</span><br><span class="line">n&lt;=20，表示工作数量</span><br><span class="line">接下来n行，每一行有两个数，表示第i项工作的deadline和cost</span><br><span class="line"></span><br><span class="line">输出：</span><br><span class="line">最小的总的工作推出时间</span><br></pre></td></tr></table></figure>
<p>标签：动态规划，状态压缩</p>
<p>解析：</p>
<p>由于n比较小，我们用一个int的每一位把n个任务是否已经完成，这就是状态压缩</p>
<p>总状态数有2^n种</p>
<p>状态转移方程：</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>x</mi><mo stretchy="false">]</mo><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">{</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>x</mi><mo>−</mo><mi>i</mi><mo stretchy="false">]</mo><mo>+</mo><mi>s</mi><mi>u</mi><mi>m</mi><mi mathvariant="normal">_</mi><mi>c</mi><mi>o</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>−</mo><mi>d</mi><mi>e</mi><mi>a</mi><mi>d</mi><mi>l</mi><mi>i</mi><mi>n</mi><mi>e</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">}</mo><mi mathvariant="normal">‘</mi></mrow><annotation encoding="application/x-tex">dp[x] = min\{dp[x - {i}] + sum\_cost(x) - deadline[i]\}`
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">x</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">{</span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">i</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mclose">}</span><span class="mord">‘</span></span></span></span></span></p>
<p>核心代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">1</span>;x &lt; (<span class="number">1</span> &lt;&lt; n);x++) &#123;</span><br><span class="line">    sum_cost[x] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (x &amp; (<span class="number">1</span> &lt;&lt; i)) &#123;</span><br><span class="line">            sum_cost[x] += cost[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (x &amp; (<span class="number">1</span> &lt;&lt; i)) &#123;</span><br><span class="line">            dp[x] = min(dp[x], dp[x - (<span class="number">1</span> &lt;&lt; i)] + sum_cost[x] - deadline[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="试炼">试炼</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">今天你将接受智慧老人的试炼，智慧老人先将n个数从左到右排成一排，然后从你开始，你俩依次从这排数中取走排头或者排尾的数，直至n个数被取完为止，双方的得分为取走的数之和。</span><br><span class="line">假设智慧老人足够聪明，请问你最多能得多少分呢？</span><br></pre></td></tr></table></figure>
<p>标签：动态规划</p>
<p>解析：</p>
<p>智慧老人跟我们一样聪明，因此他也会最大化自己的取数之和。<br>
对于每种状态，我们只有两种选择，选排头或者选排尾<br>
选哪个，就看我们选完之后，智慧老人最优策略下，能取的数最小。<br>
状态转移方程：</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>a</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>b</mi><mo stretchy="false">]</mo><mo>=</mo><mi>s</mi><mi>u</mi><mi>m</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>−</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>a</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>b</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>a</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>b</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">dp[a][b] = sum(a, b) - min ( dp[a][b - 1], dp[a + 1][b] )
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">a</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault">b</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">a</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault">b</span><span class="mclose">]</span><span class="mclose">)</span></span></span></span></span></p>
<p>核心代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getDp</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a == b) &#123;</span><br><span class="line">        <span class="keyword">return</span> sum(a, a);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (dp[a][b] != <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> dp[a][b];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> dp[a][b] = sum(a, b) - min(dp[a + <span class="number">1</span>][b], dp[a][b - <span class="number">1</span>])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="小招瞄的最小值">小招瞄的最小值</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">小招瞄的老板给了小招瞄一个区间[l,r]，小招瞄想知道对于l&lt;=i&lt;j&lt;=r，使得(i*j)%2019最小，求这个最小值是多少</span><br><span class="line">数据范围：0&lt;=l&lt;=r&lt;=2*10^9</span><br></pre></td></tr></table></figure>
<p>标签：基础数论</p>
<p>解析：</p>
<p>两个基础数论公式：</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>∗</mo><mi>b</mi><mi mathvariant="normal">%</mi><mi>k</mi><mo>≡</mo><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">%</mi><mi>k</mi><mo stretchy="false">)</mo><mo>∗</mo><mo stretchy="false">(</mo><mi>b</mi><mi mathvariant="normal">%</mi><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">a * b \% k \equiv ( a \% k ) * ( b \% k )
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord mathdefault">b</span><span class="mord">%</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mord">%</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">b</span><span class="mord">%</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span></span></p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi mathvariant="normal">%</mi><mi>k</mi><mo>≡</mo><mo stretchy="false">(</mo><mi>a</mi><mo>+</mo><mi>k</mi><mo stretchy="false">)</mo><mi mathvariant="normal">%</mi><mi>k</mi></mrow><annotation encoding="application/x-tex">a \% k \equiv (a + k) \% k
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord mathdefault">a</span><span class="mord">%</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mord">%</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span></span></p>
<p>因此这个题完全不需要遍历[l,r]所有的点对，最多每一位只需要遍历2019个元素即可</p>
<p>核心代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = l;i &lt;= r &amp;&amp; i &lt; l + <span class="number">2019</span>;i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>;j &lt;= r &amp;&amp; j &lt; i + <span class="number">1</span> + <span class="number">2019</span>;j++) &#123;</span><br><span class="line">        ret = min(ret, (<span class="keyword">long</span> <span class="keyword">long</span>)i * j $ <span class="number">2019</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="小招喵的战场">小招喵的战场</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">小招瞄所在的国家正处于怪兽入侵的战场之中，这个国家一共有n+1个城市，第i个城市遭到了a[i]个怪物的入侵</span><br><span class="line">小招瞄派了n名勇士到1至n号城市，在第i个城市的勇士可以消灭第i和第i+1个城市的怪物，并且两个城市所消灭的怪物综合部超过b[i]个</span><br><span class="line">求最多能消灭多少个怪物</span><br><span class="line">数据范围：n &lt;= 10^5</span><br></pre></td></tr></table></figure>
<p>标签：贪心</p>
<p>解析：</p>
<p>因为第一个城市的怪物只能是第一个勇士来消灭，因此第一个勇士尽可能先消灭第一个城市的怪物。<br>
同理，第一个勇士处理完之后，第二个勇士尽可能先消灭第二个城市的怪物<br>
。。。</p>
<p>核心代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (b[i] &lt;= a[i]) &#123;</span><br><span class="line">        res += b[i];</span><br><span class="line">        a[i] -= b[i];</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (b[i] &lt; a[i] + a[i + <span class="number">1</span>]) &#123;</span><br><span class="line">        res += b[i];</span><br><span class="line">        a[i] = <span class="number">0</span>;</span><br><span class="line">        a[i + <span class="number">1</span>] -= b[i] - a[i];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        res += a[i] + a[i + <span class="number">1</span>];</span><br><span class="line">        a[i] = a[i + <span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="小招瞄的字符串">小招瞄的字符串</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">老板给了小招瞄一个由数字字符0-9和？组成的字符串。它想让小招瞄把所有的？用数字字符0-9填上，小招瞄想知道有多少种情况该字符串表示的数字摸13余数为5</span><br><span class="line">老板允许舔出来的数字有前导，因为答案很大，输出对10^9+7取模的结果</span><br></pre></td></tr></table></figure>
<p>标签：动态规划，基础数论</p>
<p>解析：</p>
<p>两个基础数论公式：</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>a</mi><mo>∗</mo><mi>b</mi><mo stretchy="false">)</mo><mi mathvariant="normal">%</mi><mi>k</mi><mo>≡</mo><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">%</mi><mi>k</mi><mo stretchy="false">)</mo><mo>∗</mo><mo stretchy="false">(</mo><mi>b</mi><mi mathvariant="normal">%</mi><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(a * b) \% k \equiv ( a \% k ) * ( b \% k )
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mord">%</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mord">%</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">b</span><span class="mord">%</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span></span></p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>a</mi><mo>+</mo><mi>b</mi><mo stretchy="false">)</mo><mi mathvariant="normal">%</mi><mi>k</mi><mo>≡</mo><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">%</mi><mi>k</mi><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>b</mi><mi mathvariant="normal">%</mi><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(a + b) \% k \equiv ( a \% k ) + ( b \% k )
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mord">%</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mord">%</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">b</span><span class="mord">%</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span></span></p>
<p>摸13的余数只有13种可能性，因此将余数作为中间状态来做动态规划<br>
状态转移方程是</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>x</mi><mo stretchy="false">]</mo><mo>=</mo><mi>s</mi><mi>u</mi><mi>m</mi><mo stretchy="false">{</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>y</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><mi>y</mi><mo>∗</mo><mn>10</mn><mo>+</mo><mi>n</mi><mi>u</mi><mi>m</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mi mathvariant="normal">%</mi><mn>13</mn><mo>=</mo><mi>x</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">dp[i][x] = sum \{ dp[i][y], (y * 10 + num[i]) \% 13 = x \}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault">x</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">{</span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mclose">)</span><span class="mord">%</span><span class="mord">1</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">x</span><span class="mclose">}</span></span></span></span></span></p>
<p>核心代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; s.size();i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; <span class="number">13</span>;j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s[i] == <span class="string">'?'</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>;k &lt; <span class="number">10</span>;k++) &#123;</span><br><span class="line">                dp[i + <span class="number">1</span>][(j * <span class="number">10</span> + k) % <span class="number">13</span>] += dp[i][j];</span><br><span class="line">                dp[i + <span class="number">1</span>][(j * <span class="number">10</span> + k) % <span class="number">13</span>] %= mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> k = s[i] - <span class="string">'0'</span>;</span><br><span class="line">            dp[i + <span class="number">1</span>][(j * <span class="number">10</span> + k) % <span class="number">13</span>] += dp[i][j];</span><br><span class="line">            dp[i + <span class="number">1</span>][(j * <span class="number">10</span> + k) % <span class="number">13</span>] %= mod;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="小招喵的机器人">小招喵的机器人</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">在一根数轴上，1-n的每个点上标有L或者R，最初每个点上都有一个机器人，现在所有的机器人同时执行以下操作10^100次</span><br><span class="line">如果该点标有L，则机器人向左移动，如果该点上标有R，则机器人向右移动</span><br><span class="line">求最后每个店有几个机器人？</span><br><span class="line"></span><br><span class="line">数据范围：</span><br><span class="line">|s| &lt;= 10^5</span><br></pre></td></tr></table></figure>
<p>标签：预处理</p>
<p>解析：</p>
<p>机器人最终会落入到某一个RL的循环中，至于10^100次操作是在R还是在L中，需要判断奇偶性，只需要在有限的次数中判断偶数是在L还是R即可</p>
<p>核心代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (i + <span class="number">1</span> &lt; s.size()) &#123;</span><br><span class="line">    <span class="keyword">if</span> (s[i] == <span class="string">'R'</span> &amp;&amp; s[i + <span class="number">1</span>] == <span class="string">'L'</span>) &#123;</span><br><span class="line">        <span class="keyword">int</span> j = i;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; s[j] == <span class="string">'R'</span>) &#123;</span><br><span class="line">            res = res ^ <span class="number">1</span>;</span><br><span class="line">            j--;</span><br><span class="line">            count[i + res]++;</span><br><span class="line">        &#125;</span><br><span class="line">        j = i + <span class="number">2</span>;</span><br><span class="line">        res = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (j &lt; s.size() &amp;&amp; s[j] == <span class="string">'L'</span>) &#123;</span><br><span class="line">            j++;</span><br><span class="line">            res = res ^ <span class="number">1</span>;</span><br><span class="line">            count[i + res]++;</span><br><span class="line">        &#125;</span><br><span class="line">        count[i]++;</span><br><span class="line">        count[i + <span class="number">1</span>]++;</span><br><span class="line">        i = j;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="小招瞄的树">小招瞄的树</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">小招瞄给定一棵以节点1为根的树，每条树边上都分别有一个权值。</span><br><span class="line">小招瞄希望你能对于树中的每个节点u，找到它的子树中的一个点v，使得u，v之间的边权和最大</span><br><span class="line"></span><br><span class="line">数据范围：n &lt;=2*10^5 , -10^9 &lt;= c &lt;= 10^9</span><br></pre></td></tr></table></figure>
<p>标签：树形动态规划</p>
<p>解析：</p>
<p>这个题的转移其实不难，转移方程为：</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">{</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mo>+</mo><mi>v</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>j</mi><mi mathvariant="normal">为</mi><mi>i</mi><mi mathvariant="normal">的</mi><mi mathvariant="normal">孩</mi><mi mathvariant="normal">子</mi><mi mathvariant="normal">节</mi><mi mathvariant="normal">点</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mi>v</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow></mrow><annotation encoding="application/x-tex">dp[i] = max { max \{ dp[j] + value[i], j为i的孩子节点 \} ,  value[i] }
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mord"><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">{</span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">u</span><span class="mord mathdefault">e</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord cjk_fallback">为</span><span class="mord mathdefault">i</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">孩</span><span class="mord cjk_fallback">子</span><span class="mord cjk_fallback">节</span><span class="mord cjk_fallback">点</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">u</span><span class="mord mathdefault">e</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span></span></span></p>
<p>比较难的是构造树，数据量10^5，无法用递归来构造树，庆幸的是指定了1为树根，因此我们可以通过树根的bfs来进行拓扑排序</p>
<p>核心代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; topo;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; parent;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    topo.push_back(<span class="number">1</span>);</span><br><span class="line">    visited[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; topo.size();i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> x = Q.front();</span><br><span class="line">        Q.pop();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> edge: edges[x]) &#123;</span><br><span class="line">            <span class="keyword">int</span> y = edge[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (!visited[y]) &#123;</span><br><span class="line">                parent[y] = x;</span><br><span class="line">                topo.push_back(y);</span><br><span class="line">                visited[y] = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x = topo.rbegin();x != topo.rend();x++) &#123;</span><br><span class="line">        dp[x] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> edge：edges[x]) &#123;</span><br><span class="line">            <span class="keyword">if</span> (edge[<span class="number">1</span>] == parent[x]) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            dp[x] = max(dp[x], edge[<span class="number">2</span>]);</span><br><span class="line">            dp[x] = max(dp[x], edge[<span class="number">2</span>] + dp[edge[<span class="number">1</span>]]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="穿越障碍物">穿越障碍物</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">你现在在(0,0)，需要到(x,y)去，路上有n个障碍物，给出每个障碍物的坐标，你只能平行于坐标轴行走，求最少需要多少步才能到目的地？</span><br><span class="line"></span><br><span class="line">数据范围：n&lt;=10000</span><br><span class="line">-500 &lt;= x,y &lt;= 500</span><br></pre></td></tr></table></figure>
<p>标签：bfs</p>
<p>解析：</p>
<p>典型的bfs迷宫题，注意数据范围，有负数<br>
还要注意，有障碍物处于-500，500的边界，所以一定要留一圈坐标-501和501，以防止障碍物全在边界上，比如说</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">n=?</span><br><span class="line">x=500</span><br><span class="line">y=500</span><br><span class="line">障碍物在所有的(i, 500), (i, -500), (500, i), (-500, i)除了(500,500)上</span><br></pre></td></tr></table></figure>
<p>核心代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; Q;</span><br><span class="line">Q.push_back(makr_pair(<span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line"><span class="keyword">while</span> (!Q.empty()) &#123;</span><br><span class="line">    pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; res = Q.front();</span><br><span class="line">    Q.pop();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> v: &#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;&#125;) &#123;</span><br><span class="line">        pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; next = make_pair(res.first + v[<span class="number">0</span>], res.second + v[<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">if</span> (next.first &gt;= <span class="number">-501</span> &amp;&amp; next.first &lt;= <span class="number">501</span> &amp;&amp; next.second &gt;= <span class="number">-501</span> &amp;&amp; next.second &lt;= <span class="number">501</span></span><br><span class="line">            &amp;&amp; dist[next.first + <span class="number">501</span>][next.second + <span class="number">501</span>] != <span class="number">-1</span>) &#123;</span><br><span class="line">                dist[next.first + <span class="number">501</span>][next.second + <span class="number">501</span>] = dist[res.first + <span class="number">501</span>][res.second + <span class="number">501</span>] + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="西西的传送门">西西的传送门</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">西西所在的国家有n座城市，每座城市都有一道传送门，城市i的传送门通往城市a[i]，当西西位于城市i时，每次可以执行三种操作的其中一种：</span><br><span class="line">1、花费A费用，从城市i前往城市a[i]</span><br><span class="line">2、如果a[i]&gt;1，可以花费B的费用，将a[i]的值减少1</span><br><span class="line">3、如果a[i]&lt;N，可以花费C费用，将a[i]的值增加1</span><br><span class="line">现在西西想从城市1前往城市n，至少要花费多少</span><br><span class="line"></span><br><span class="line">数据范围：n &gt;= 10000</span><br></pre></td></tr></table></figure>
<p>标签：最短路</p>
<p>解析：</p>
<p>复习一下，最短路模型中，如果所有的边权值都相等，那么用bfs，如果不等，就看边权值是否出现负数，出现，用松弛算法，没出现，用狄利克雷算法</p>
<p>这个题，边有ABC三种权值，用狄利克雷算法</p>
<p>怎么构图？</p>
<ul>
<li>i-&gt;a[i]连边，权值为A</li>
<li>i-&gt;i-1连边，权值为B</li>
<li>i-&gt;i+1连边，权值为C</li>
</ul>
<p>条件2相当于是，i到a[i]-1的权值是A+B，i到a[i]-2的权值是A+2B，因此相当于先走i-&gt;a[i]，再走i-&gt;i-1</p>
<p>这题数据量高达10000，需要堆优化，就是在狄利克雷算法中不是有一步需要寻找切面上的最短路的点，这一步可用堆来寻找</p>
<p>核心代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">priority_queue&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;, <span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt;, greater&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; Q;</span><br><span class="line"><span class="keyword">while</span> (!Q.empty()) &#123;</span><br><span class="line">    <span class="keyword">int</span> x = Q.front().second;</span><br><span class="line">    Q.pop();</span><br><span class="line">    <span class="keyword">if</span> (visited[x]) &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    visited[x] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> edge : edges[x]) &#123;</span><br><span class="line">        <span class="keyword">int</span> y = edge[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> c = edge[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">if</span> (!visited[y] &amp;&amp; dist[y] &gt; dist[x] + c) &#123;</span><br><span class="line">            dist[y] = dist[x] + <span class="number">1</span>;</span><br><span class="line">            Q.push_back(makr_pair(y, dist[y]));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div>


  <div class="book-comments">
    


  </div>


<script src="/js/book-post.js"></script>
        </div>
      </div>

      <!-- <div class="column col-2 hide-lg">
        <div class="book-toc">
  <div class="book-tocbot">
  </div>
  <div class="book-tocbot-menu">
    <a class="book-toc-expand" onclick="expand_toc()">Expand all</a>
    <a onclick="go_top()">Back to top</a>
    <a onclick="go_bottom()">Go to bottom</a>
  </div>
</div>

<script>
tocbot.init({
  tocSelector: '.book-tocbot',
  contentSelector: '.book-post',
  headingSelector: 'h1, h2, h3, h4, h5',
  collapseDepth: 2,
  orderedList: false,
  scrollSmooth: false,
});

function expand_toc(){
  var b = document.querySelector(".book-toc-expand");
  tocbot.init({
    tocSelector: '.book-tocbot',
    contentSelector: '.book-post',
    headingSelector: 'h1, h2, h3, h4, h5',
    collapseDepth: 6,
    orderedList: false,
    scrollSmooth: false,
  });
  b.setAttribute("onclick", "collapse_toc()");
  b.innerHTML = "Collapse all"
}

function collapse_toc(){
  var b = document.querySelector(".book-toc-expand");
  tocbot.init({
    tocSelector: '.book-tocbot',
    contentSelector: '.book-post',
    headingSelector: 'h1, h2, h3, h4, h5',
    collapseDepth: 2,
    orderedList: false,
    scrollSmooth: false,
  });
  b.setAttribute("onclick", "expand_toc()");
  b.innerHTML = "Expand all"
}

function go_top() {
  window.scrollTo(0, 0);
}

function go_bottom() {
  window.scrollTo(0, document.body.scrollHeight);
}

</script>
      </div> -->
    </div>
  </div>
</div>

</body>
</html>
