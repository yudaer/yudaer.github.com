<!DOCTYPE html>
<html lang="cn">

<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">

    
      <link rel="icon" href="/favicon.ico">
    

    <title>
        
          20190916笔试题 - 小白二号
        
    </title>

    <!-- Spectre.css framework (v0.5.8) -->
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-exp.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-icons.min.css">

    <!-- Noto Sans TC -->
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+TC" rel="stylesheet">
    <!-- Noto Sans SC -->
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+SC" rel="stylesheet">
    <!-- Noto Sans -->
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans" rel="stylesheet">

    <!-- theme css & js -->
    <link rel="stylesheet" href="/css/spectre_custom.css">
    <link rel="stylesheet" href="/css/book.css">
    <script src="/js/book.js"></script>

    <!-- tocbot -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">

    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    
    <!-- katex -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">

    
</head>

<body>

<div class="container">
  <div class="book-container">
    <div class="columns">
      <div class="column col-2 hide-lg">
        <div class="book-sidebar-wraper">
  <img src="http://47.244.46.64:8001/1.png" style="display: none"/>
  <div class="book-sidebar">
    <h4 class="site-meta">
      <a href="/">小白二号</a>
    </h4>
    <div class="sidebar-content">
      <ul>
<li><a href="/">首页</a></li>
<li>算法
<ul>
<li><a href="/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF">动态规划解题思路</a></li>
<li><a href="/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92">动态规划</a></li>
<li><a href="/%E8%AE%B0%E5%BF%86%E5%8C%96%E6%90%9C%E7%B4%A2">记忆化搜索</a></li>
<li><a href="/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F">拓扑排序</a></li>
<li><a href="/%E7%90%86%E8%A7%A3%E9%80%92%E5%BD%92">理解递归</a></li>
<li><a href="/%E7%90%86%E8%A7%A3%E5%87%BD%E6%95%B0">理解函数</a></li>
</ul>
</li>
<li>大数据
<ul>
<li><a href="/hostname%E7%9A%84%E9%97%AE%E9%A2%98">hostname的问题</a></li>
<li><a href="/hadoop%E6%90%AD%E5%BB%BA%E5%85%A5%E9%97%A8%E2%80%94%E2%80%94ssh%E9%97%AE%E9%A2%98">hadoop搭建入门——ssh问题</a></li>
<li><a href="/%E7%94%A8mapreduce%E5%AE%9E%E7%8E%B0join">用mapreduce实现join</a></li>
<li><a href="/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BB%BB%E5%8A%A1%E5%88%86%E5%8F%91%E5%BC%95%E5%8F%91%E7%9A%84%E9%97%AE%E9%A2%98">分布式任务分发引发的问题</a></li>
<li><a href="/%E5%A4%9A%E7%BB%B4%E6%9F%A5%E8%AF%A2%E7%9A%84%E4%B8%80%E7%A7%8D%E5%AE%9E%E7%8E%B0cube%E5%8C%96">多维查询的一种实现cube化</a></li>
</ul>
</li>
<li>未分类
<ul>
<li><a href="/%E7%90%86%E8%A7%A3sql">理解sql</a></li>
</ul>
</li>
<li>笔试题目记录
<ul>
<li><a href="/20190922%E7%AC%94%E8%AF%95%E9%A2%98">20190922笔试题</a></li>
<li><a href="/20190921%E7%AC%94%E8%AF%95%E9%A2%98">20190921笔试题</a></li>
<li><a href="/20190920%E7%AC%94%E8%AF%95%E9%A2%98">20190920笔试题</a></li>
<li><a href="/20190919%E7%AC%94%E8%AF%95%E9%A2%98">20190919笔试题</a></li>
<li><a href="/20190917%E7%AC%94%E8%AF%95%E9%A2%98">20190917笔试题</a></li>
<li><a href="/20190916%E7%AC%94%E8%AF%95%E9%A2%98">20190916笔试题</a></li>
<li><a href="/20190915%E7%AC%94%E8%AF%95%E9%A2%98">20190915笔试题</a></li>
</ul>
</li>
<li>草稿</li>
</ul>

    </div>
  </div>
</div>

<script src="/js/book-sidebar.js"></script>
      </div>

      <div class="column col-10 col-lg-12">
        <div class="book-content">
          <div class="book-navbar">
  <header class="navbar">
  <section class="navbar-section">
    <img class="navbar-icon" src="/favicon.ico">
  </section>
  <section class="navbar-center">
    小白二号
  </section>
  <section class="navbar-section">
    <label class="accordion-header c-hand" for="accordion-sidebar">
      <i class="icon icon-menu"></i>
    </label>
  </section>
</header>

<div class="accordion">
  <input type="checkbox" id="accordion-sidebar" name="accordion-checkbox" hidden>
  <div class="accordion-body">
    <ul>
<li><a href="/">首页</a></li>
<li>算法
<ul>
<li><a href="/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF">动态规划解题思路</a></li>
<li><a href="/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92">动态规划</a></li>
<li><a href="/%E8%AE%B0%E5%BF%86%E5%8C%96%E6%90%9C%E7%B4%A2">记忆化搜索</a></li>
<li><a href="/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F">拓扑排序</a></li>
<li><a href="/%E7%90%86%E8%A7%A3%E9%80%92%E5%BD%92">理解递归</a></li>
<li><a href="/%E7%90%86%E8%A7%A3%E5%87%BD%E6%95%B0">理解函数</a></li>
</ul>
</li>
<li>大数据
<ul>
<li><a href="/hostname%E7%9A%84%E9%97%AE%E9%A2%98">hostname的问题</a></li>
<li><a href="/hadoop%E6%90%AD%E5%BB%BA%E5%85%A5%E9%97%A8%E2%80%94%E2%80%94ssh%E9%97%AE%E9%A2%98">hadoop搭建入门——ssh问题</a></li>
<li><a href="/%E7%94%A8mapreduce%E5%AE%9E%E7%8E%B0join">用mapreduce实现join</a></li>
<li><a href="/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BB%BB%E5%8A%A1%E5%88%86%E5%8F%91%E5%BC%95%E5%8F%91%E7%9A%84%E9%97%AE%E9%A2%98">分布式任务分发引发的问题</a></li>
<li><a href="/%E5%A4%9A%E7%BB%B4%E6%9F%A5%E8%AF%A2%E7%9A%84%E4%B8%80%E7%A7%8D%E5%AE%9E%E7%8E%B0cube%E5%8C%96">多维查询的一种实现cube化</a></li>
</ul>
</li>
<li>未分类
<ul>
<li><a href="/%E7%90%86%E8%A7%A3sql">理解sql</a></li>
</ul>
</li>
<li>笔试题目记录
<ul>
<li><a href="/20190922%E7%AC%94%E8%AF%95%E9%A2%98">20190922笔试题</a></li>
<li><a href="/20190921%E7%AC%94%E8%AF%95%E9%A2%98">20190921笔试题</a></li>
<li><a href="/20190920%E7%AC%94%E8%AF%95%E9%A2%98">20190920笔试题</a></li>
<li><a href="/20190919%E7%AC%94%E8%AF%95%E9%A2%98">20190919笔试题</a></li>
<li><a href="/20190917%E7%AC%94%E8%AF%95%E9%A2%98">20190917笔试题</a></li>
<li><a href="/20190916%E7%AC%94%E8%AF%95%E9%A2%98">20190916笔试题</a></li>
<li><a href="/20190915%E7%AC%94%E8%AF%95%E9%A2%98">20190915笔试题</a></li>
</ul>
</li>
<li>草稿</li>
</ul>

  </div>
</div>
</div>

<div class="content-title">
  <div class="title">
    20190916笔试题
  </div>
</div>

<div class="book-post">
  <h4 id="质因数统计">质因数统计</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">我们知道每一个大于1的整数都一定是质数的乘积来表示，如10=2*5。现在请设计一个程序，对于给定的一个(1, N]之间的正整数（N取值不超过10万），你需要统计(1,N]之间所有整数的因数分解后，所有质数个数的总个数。举例，输入数据为6，那么满足(1,6]的整数位2,3,4,5,6,，各自进行质数分解后为：2=&gt;2，3=&gt;3，4=&gt;2*2，5=&gt;5，6=&gt;2*3。对应的质数个数即为1，1，2，1,2。最后统计总数为7</span><br><span class="line"></span><br><span class="line">数据范围：n不超过10万</span><br></pre></td></tr></table></figure>
<p>标签：基础数论</p>
<p>解析：</p>
<p>判断素数的有两种方法：</p>
<ul>
<li>素数筛法o(nlogn)，n大于10^4可用</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> isprime[N];</span><br><span class="line"><span class="built_in">memset</span>(isprime, <span class="literal">true</span>, <span class="keyword">sizeof</span>(isprime));</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>;i &lt; N;i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!isprime[i]) &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = i * <span class="number">2</span>;j &lt; N;j++) &#123;</span><br><span class="line">        isprime[j] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>素数筛法的时间复杂度计算问题，引申自一个计算公式：</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>+</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mo>+</mo><mfrac><mn>1</mn><mn>3</mn></mfrac><mo>+</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>+</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><mo>=</mo><mi>ln</mi><mo>⁡</mo><mi>n</mi><mo>+</mo><mi>γ</mi></mrow><annotation encoding="application/x-tex">1+\frac{1}{2}+\frac{1}{3}+\frac{1}{4}+...+\frac{1}{n} = \ln n + \gamma 
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mop">ln</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span></span></span></span></span></p>
<ul>
<li>朴素素数检测o(n*sqrt(n))，n小于10^4可用</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; prime;</span><br><span class="line">prime.push_back(<span class="number">2</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">3</span>;i &lt; N;i+=<span class="number">2</span>) &#123;</span><br><span class="line">    <span class="keyword">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>;prime[j] * prime[j] &lt;= i;j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">        prime.push_back(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>判断n!分解后有多少个素数p相乘（leetcode-172）</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    ret += n / p;</span><br><span class="line">    n /= p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>回到问题，问题相当于n!分解后有多少个素因子</p>
<p>方法一：<br>
素数筛法，枚举所有的素数，分别统计n!分解后有多少个素数p，复杂度是o(nlogn)</p>
<p>方法二：<br>
素数筛法，素数筛选中，可以顺便把素数的个数求出来，复杂度是o(nlognlogn)</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> num[N];</span><br><span class="line"><span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>;i &lt; N;i++) &#123;</span><br><span class="line">    num[i] = i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>;i &lt; N;i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (num[i] == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = i;j &lt; N;j += i) &#123;</span><br><span class="line">        <span class="keyword">while</span> (nums[j] % i == <span class="number">0</span>) &#123;</span><br><span class="line">            ret++;</span><br><span class="line">            nums[j] /= i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>方法三：<br>
朴素素数检测，加迭代，复杂度是o(n*sqrt(n))，对于10^5的数据量，能否过，有点悬</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; prime;</span><br><span class="line"><span class="keyword">int</span> num[N] = &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>&#125;;</span><br><span class="line">prime.push_back(<span class="number">2</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">3</span>;i &lt; N;i+=<span class="number">2</span>) &#123;</span><br><span class="line">    <span class="keyword">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>;prime[j] * prime[j] &lt;= i;j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">            num[i] = num[i / prime[j]] + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">        num[i] = <span class="number">1</span>;</span><br><span class="line">        prime.push_back(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="区间求和">区间求和</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">现在有一个长度为N的数组a，下标范围从0到N-1，给出Q组区间l[i],r[i]，求和以下公式（公式在下面给出）</span><br><span class="line">注意最后的数字之和可能非常大，将最后的和除以1000000007的余数输出</span><br><span class="line"></span><br><span class="line">数据范围，没说</span><br></pre></td></tr></table></figure>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>Q</mi></munderover><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mi>l</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><mrow><mi>r</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow></munderover><mi>a</mi><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\sum_{i=1}^{Q}\sum_ {j=l[i]}^ {r[i]}a[j]
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.4770100000000004em;vertical-align:-1.5160049999999998em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8754440000000003em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.347113em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">Q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9610050000000006em;"><span style="top:-1.8089950000000001em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mopen mtight">[</span><span class="mord mathdefault mtight">i</span><span class="mclose mtight">]</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.386005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mopen mtight">[</span><span class="mord mathdefault mtight">i</span><span class="mclose mtight">]</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5160049999999998em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span></span></span></p>
<p>标签：前缀和</p>
<h4 id="修bug">修bug</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">P某天看Q头上的bug太多了，去找他说，给你个机会，现在有m(0&lt;=n&lt;=100)个小球，每个小球上有一个编号A[i]，你每次可以消除连续的k个(k&gt;=1)相同编号的小球，然后我就帮你修k*k个bug，一直到所有的小球都能消除为止。Q感激涕零，由于头上的bug多到修不完，Q想知道他最多可以让P帮他修多少个bug</span><br><span class="line"></span><br><span class="line">数据范围：N&lt;=100，A[i]&lt;=1000</span><br></pre></td></tr></table></figure>
<p>标签：动态规划</p>
<p>解析：</p>
<p>这种数据访问，一看就知道是o(n^3)的算法啦。<br>
状态：[a,b]表示区间a-b，最多修了多少个bug<br>
状态转移：我们只关注第一个元素，假设第一个元素自己消，那么还需要计算后面的区间；如果第一个元素会跟后面相同的元素一起消，那么中间的，后面的，都得计算，这就是dp的转移<br>
例如：<br>
1 2 1 2 1 2<br>
dp[0][5] = max(dp[1][5] + 1, dp[1][1] + dp[3][5] + 4, dp[1][1] + dp[3][3] + dp[5][5] + 9)</p>
<p>核心代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">int getdp(int a, int b) &#123;</span><br><span class="line">    if (dp[a][b] != -1) &#123;</span><br><span class="line">        return dp[a][b];</span><br><span class="line">    &#125;</span><br><span class="line">    if (a == b) &#123;</span><br><span class="line">        return 1;</span><br><span class="line">    &#125;</span><br><span class="line">    if (a &gt; b) &#123;</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line">    dp[a][b] = 1 + getdp(a + 1, b);</span><br><span class="line">    int res = 0;</span><br><span class="line">    int num = 0;</span><br><span class="line">    int last = a;</span><br><span class="line">    int i = a + 1;</span><br><span class="line">    while (i &lt;= b) &#123;</span><br><span class="line">        if (data[i] == data[a]) &#123;</span><br><span class="line">            num++;</span><br><span class="line">            res += getdp(last + 1, i - 1);</span><br><span class="line">            dp[a][b] = max(dp[a][b], res + num * num + getdp(i + 1, b));</span><br><span class="line">            last = i;</span><br><span class="line">        &#125;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    return dp[a][b];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div>


  <div class="book-comments">
    


  </div>


<script src="/js/book-post.js"></script>
        </div>
      </div>

      <!-- <div class="column col-2 hide-lg">
        <div class="book-toc">
  <div class="book-tocbot">
  </div>
  <div class="book-tocbot-menu">
    <a class="book-toc-expand" onclick="expand_toc()">Expand all</a>
    <a onclick="go_top()">Back to top</a>
    <a onclick="go_bottom()">Go to bottom</a>
  </div>
</div>

<script>
tocbot.init({
  tocSelector: '.book-tocbot',
  contentSelector: '.book-post',
  headingSelector: 'h1, h2, h3, h4, h5',
  collapseDepth: 2,
  orderedList: false,
  scrollSmooth: false,
});

function expand_toc(){
  var b = document.querySelector(".book-toc-expand");
  tocbot.init({
    tocSelector: '.book-tocbot',
    contentSelector: '.book-post',
    headingSelector: 'h1, h2, h3, h4, h5',
    collapseDepth: 6,
    orderedList: false,
    scrollSmooth: false,
  });
  b.setAttribute("onclick", "collapse_toc()");
  b.innerHTML = "Collapse all"
}

function collapse_toc(){
  var b = document.querySelector(".book-toc-expand");
  tocbot.init({
    tocSelector: '.book-tocbot',
    contentSelector: '.book-post',
    headingSelector: 'h1, h2, h3, h4, h5',
    collapseDepth: 2,
    orderedList: false,
    scrollSmooth: false,
  });
  b.setAttribute("onclick", "expand_toc()");
  b.innerHTML = "Expand all"
}

function go_top() {
  window.scrollTo(0, 0);
}

function go_bottom() {
  window.scrollTo(0, document.body.scrollHeight);
}

</script>
      </div> -->
    </div>
  </div>
</div>

</body>
</html>
